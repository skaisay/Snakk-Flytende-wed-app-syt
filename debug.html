<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ç–ª–∞–¥–∫–∞ –º–∞—Å—Ç–µ—Ä-–±–∞–∑—ã</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #1e1e2e;
            color: white;
            padding: 20px;
        }
        .status {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
        }
        .good { border-left: 4px solid #22c55e; }
        .bad { border-left: 4px solid #ef4444; }
        .test-input {
            padding: 10px;
            width: 300px;
            margin: 10px 0;
            border: 1px solid #333;
            background: #333;
            color: white;
            border-radius: 5px;
        }
        .test-button {
            padding: 10px 20px;
            background: #4F9CF9;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>üîç –û—Ç–ª–∞–¥–∫–∞ –º–∞—Å—Ç–µ—Ä-–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</h1>
    
    <div class="status" id="database-status">
        ‚è≥ –ü—Ä–æ–≤–µ—Ä—è—é –∑–∞–≥—Ä—É–∑–∫—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
    </div>
    
    <div class="status" id="test-result">
        <h3>–¢–µ—Å—Ç –ø–µ—Ä–µ–≤–æ–¥–∞:</h3>
        <input type="text" id="test-input" class="test-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ—Å—Ç_–∏–∑–º–µ–Ω–µ–Ω–∏–µ" value="—Ç–µ—Å—Ç_–∏–∑–º–µ–Ω–µ–Ω–∏–µ">
        <button class="test-button" onclick="testTranslation()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <div id="translation-result" style="margin-top: 10px;"></div>
    </div>

    <div class="status" id="raw-data">
        <h3>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–∞—Å—Ç–µ—Ä-–±–∞–∑—ã:</h3>
        <div id="data-content">–ó–∞–≥—Ä—É–∂–∞—é...</div>
    </div>

    <script src="./master-database.js?v=20250702x"></script>
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        function checkDatabase() {
            const status = document.getElementById('database-status');
            const rawData = document.getElementById('data-content');
            
            if (typeof MASTER_DATABASE !== 'undefined') {
                status.innerHTML = '‚úÖ MASTER_DATABASE –∑–∞–≥—Ä—É–∂–µ–Ω–∞';
                status.className = 'status good';
                
                // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
                const translations = MASTER_DATABASE.translations || {};
                const translationCount = Object.keys(translations).length;
                
                rawData.innerHTML = `
                    <p><strong>–ü–µ—Ä–µ–≤–æ–¥–æ–≤:</strong> ${translationCount}</p>
                    <pre style="background: #000; padding: 10px; border-radius: 5px; overflow: auto; max-height: 200px;">${JSON.stringify(translations, null, 2)}</pre>
                `;
            } else {
                status.innerHTML = '‚ùå MASTER_DATABASE –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞';
                status.className = 'status bad';
                rawData.innerHTML = '–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞';
            }
        }
        
        function testTranslation() {
            const input = document.getElementById('test-input').value.trim();
            const result = document.getElementById('translation-result');
            
            if (typeof MASTER_DATABASE !== 'undefined' && MASTER_DATABASE.translations) {
                const translation = MASTER_DATABASE.translations[input];
                if (translation) {
                    result.innerHTML = `‚úÖ <strong>${input}</strong> ‚Üí <strong>${translation}</strong>`;
                    result.style.color = '#22c55e';
                } else {
                    result.innerHTML = `‚ùå –ü–µ—Ä–µ–≤–æ–¥ –¥–ª—è "${input}" –Ω–µ –Ω–∞–π–¥–µ–Ω`;
                    result.style.color = '#ef4444';
                }
            } else {
                result.innerHTML = '‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞';
                result.style.color = '#ef4444';
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        setTimeout(checkDatabase, 100);
    </script>
</body>
</html>